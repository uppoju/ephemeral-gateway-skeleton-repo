<wsp:Policy xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy" xmlns:L7p="http://www.layer7tech.com/ws/policy">
    <wsp:All wsp:Usage="Required">
        <L7p:SetVariable>
            <L7p:Expression><![CDATA[John,William]]></L7p:Expression>
            <L7p:ContentType stringValue="text/xml; charset=utf-8"/>
            <L7p:DataType variableDataType="message"/>
            <L7p:VariableToSet stringValue="parameter"/>
        </L7p:SetVariable>
        <L7p:Split>
            <L7p:Enabled booleanValue="false"/>
            <L7p:InputVariable stringValue="parameter"/>
            <L7p:OutputVariable stringValue="mparameters"/>
        </L7p:Split>
        <L7p:JdbcQuery>
            <L7p:ConnectionName stringValue="oracle"/>
            <L7p:NamingMap mapValue="included">
                <L7p:entry>
                    <L7p:key stringValue="cust_first_name"/>
                    <L7p:value stringValue="name"/>
                </L7p:entry>
                <L7p:entry>
                    <L7p:key stringValue="cust_last_name"/>
                    <L7p:value stringValue="last"/>
                </L7p:entry>
                <L7p:entry>
                    <L7p:key stringValue="phone_number"/>
                    <L7p:value stringValue="number"/>
                </L7p:entry>
            </L7p:NamingMap>
            <L7p:SqlQuery stringValue="select cust_first_name, cust_last_name, phone_number from democustomers where cust_first_name in (${parameter})"/>
        </L7p:JdbcQuery>
        <L7p:HardcodedResponse>
            <L7p:ResponseBody><![CDATA[Oracle JDBC 
First : ${jdbcQuery.name}
Last : ${jdbcQuery.last}
Phone: ${jdbcQuery.number}]]></L7p:ResponseBody>
            <L7p:ResponseContentType stringValue="text/plain; charset=UTF-8"/>
        </L7p:HardcodedResponse>
    </wsp:All>
</wsp:Policy>
